<%#
   "Helper for rendering comment thread rename action modal

  Variables:
    thread : Comment thread to create the modal for
"%>

<div class="modal is-with-backdrop is-small js--rename-thread-<%= thread.id %>">
  <%= form_tag rename_comment_thread_path(thread.id), class: 'modal--container' do %>
    <div class="modal--header">
      <button type="button"
              class="button is-close-button modal--header-button"
              data-modal=".js--rename-thread-<%= thread.id %>">&times;
      </button>
      Rename thread
    </div>
    <div class="modal--body">
      <%= label_tag :title, 'Title', class: 'form-element' %>
      <%= text_field_tag :title,
                         thread.title,
                         class: 'form-element js-thread-title-field',
                         data: { post: thread.post.id,
                                 thread: thread.id,
                                 character_count: ".js-character-count-thread-title-#{thread.id}",
                                 markdown: 'strip' } %>
      <%= render 'shared/char_count',
                 type: "thread-title-#{thread.id}",
                 cur: thread.title.length,
                 max: maximum_thread_title_length %>
    </div>
    <div class="modal--footer">
      <%= submit_tag 'Update thread', class: 'button is-muted is-filled' %>
      <button type="button"
              class="button is-muted"
              data-modal=".js--rename-thread-<%= thread.id %>">Cancel</button>
    </div>
  <% end %>
</div>
